digraph MTA {

# MODULES
"test-bas-db-deployer" [shape=box3d,color=blue,style=bold,label="\nDB DEPLOYER\n\ntest-bas-db-deployer"]
"test-bas-destination-content" [shape=box3d,color=blue,style=bold,label="\nDEPLOYER\n\ntest-bas-destination-content"]
"test-bas_ui_deployer" [shape=box3d,color=blue,style=bold,label="\nDEPLOYER\n\ntest-bas_ui_deployer"]
"test-bas-srv" [shape=house,color=blue,style=bold,label="\nCAP SERVICE\n\ntest-bas-srv"]
    

# RESOURCES
"test-bas-db" [shape=cylinder,color=orange,style=bold,label="\nHANA CLOUD\n\ntest-bas-db"];
"test-bas-destination-service" [shape=cds,color=orange,label="\nDESTINATION\n\ntest-bas-destination-service\n\n"];
"test-bas_html_repo_host" [shape=folder,color=orange,label="\nHTML REPOSITORY\n\ntest-bas_html_repo_host"];
"uaa_test-bas"[shape=record,color=orange,label="{UUA|uaa_test-bas}"];

"sambusinesssolution_test_bas_html_repo_host" [shape=underline,color=blue,label="sambusinesssolution_test_bas_html_repo_host"];
"sambusinesssolution_uaa_test_bas" [shape=underline,color=blue,label="sambusinesssolution_uaa_test_bas"];
"ui5" [shape=underline,color=blue,label="ui5"];

subgraph cluster_3 {
    label = "CAP SERVICE";
"test-bas-srv" -> "test-bas-db" [label= "read/write"];
"test-bas-db-deployer" -> "test-bas-db" [label= "deploy to"];
}

subgraph cluster_destinations {
    label = "DESTINATIONS";
"test-bas-destination-content" -> "test-bas-destination-service" [label= "deploy destinations",color=orange];
"test-bas-destination-content" -> "uaa_test-bas" [label= "deploy xsuaa",color=orange];

"test-bas-destination-service" -> "sambusinesssolution_test_bas_html_repo_host"
"test-bas-destination-service" -> "sambusinesssolution_uaa_test_bas"
"test-bas-destination-service" -> "ui5"

"sambusinesssolution_test_bas_html_repo_host" -> "test-bas_html_repo_host" [label= "point to",color=lightblue]
"sambusinesssolution_uaa_test_bas" -> "uaa_test-bas"[label= "point to",color=lightblue]
"ui5" -> "https://ui5.sap.com"[label= "point to",color=lightblue]
}

subgraph cluster_2 {
    label = "HTML5 APPS";

    "project3" [shape=rect,color=green,style=bold,label="\nAPP HTML5\n\nproject3"]
"cavolo" [shape=rect,color=green,style=bold,label="\nAPP HTML5\n\ncavolo"]

"test-bas_ui_deployer" -> "cavolo" [label= "deploy app",color=green];
"test-bas_ui_deployer" -> "project3" [label= "deploy app",color=green];
"test-bas_ui_deployer" -> "test-bas_html_repo_host" [label= "deploy apps to",color=orange];
}




subgraph cluster_legend {
    label="LEGEND"
"CONTENT DEPLOYER" [shape=box3d,color=blue,style=bold];
"HANA SERVICE" [shape=cylinder,color=orange,style=bold];
"BTP SERVICE" [shape=cds,color=orange];
"BTP DESTINATION" [shape=underline,color=blue];
"HTML5 APP" [shape=rect,color=green,style=bold]
}

}